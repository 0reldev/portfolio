<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title>Page d'administration</title>
        <link rel="stylesheet" href="/css/style.css">

        <!-- Google icons and fonts importation -->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Lora:wght@500&display=swap" rel="stylesheet">

        <!-- Compiled and minified CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    </head>
    <body>
        <div th:replace="navbar.html :: navbar"></div>
        <section id="experiencesSection">
            <div class="container">
                <br><br>
                <a class="waves-effect waves-light btn green accent-2"
                   href="/admin/experience">
                    <i class="material-icons left">add_circle</i>
                    Ajouter une expérience
                </a>
                <br><br>
                <table>
                    <thead>
                    <tr>
                        <th>Id</th>
                        <th>Poste</th>
                        <th>Entreprise</th>
                        <th>Ville</th>
                        <th></th>
                        <th></th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr th:each="experience : ${experiences}">
                            <td th:text="${experience.id}">id</td>
                            <td th:text="${experience.jobTitle}">Intitulé du poste</td>
                            <td th:text="${experience.companyName}">Entreprise</td>
                            <td th:text="${experience.city}">Ville</td>
                            <td><a th:href="@{/admin/experience(id=${experience.id})}"><i class="material-icons">create</i></a></td>
                            <td><a th:href="@{/admin/experience/delete(id=${experience.id})}"><i class="material-icons">delete</i></a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
        <section id="coursesSection">
            <div class="container">
                <br><br>
                <a class="waves-effect waves-light btn green accent-2"
                   href="/admin/course">
                    <i class="material-icons left">add_circle</i>
                    Ajouter une formation
                </a>
                <br><br>
                <table>
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Intitulé</th>
                            <th>École/organisme</th>
                            <th>Ville</th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="course : ${courses}">
                            <td th:text="${course.id}">id</td>
                            <td th:text="${course.courseTitle}">Intitulé de la formation</td>
                            <td th:text="${course.schoolName}">Entreprise</td>
                            <td th:text="${course.city}">Ville</td>
                            <td><a th:href="@{/admin/course(id=${course.id})}"><i class="material-icons">create</i></a></td>
                            <td><a th:href="@{/admin/course/delete(id=${course.id})}"><i class="material-icons">delete</i></a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
        <section id="skillsSection">
            <div class="container">
                <br><br>
                <a class="waves-effect waves-light btn green accent-2"
                   href="/admin/skill">
                    <i class="material-icons left">add_circle</i>
                    Ajouter une compétence
                </a>
                <br><br>
                <table>
                    <thead>
                    <tr>
                        <th>Id</th>
                        <th>Compétence</th>
        <!--                <th>Catégorie</th>-->
                        <th></th>
                        <th></th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr th:each="skill : ${skillsByName}">
                            <td th:text="${skill.id}">id</td>
                            <td th:text="${skill.name}">Compétence</td>

            <!--                <td th:text="${skill.skillCategory.name}">Catégorie</td>-->
                            <td><a th:href="@{/admin/skill(id=${skill.id})}"><i class="material-icons">create</i></a></td>
                            <td><a th:href="@{/admin/skill/delete(id=${skill.id})}"><i class="material-icons">delete</i></a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
        <section id="achievementsSection">
            <div class="container">
                <br><br>
                <a class="waves-effect waves-light btn green accent-2"
                   href="/admin/achievement">
                    <i class="material-icons left">add_circle</i>
                    Ajouter une réalisation
                </a>
                <br><br>
                <table>
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Titre</th>
                            <th>Client</th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="achievement : ${achievements}">
                            <td th:text="${achievement.id}">id</td>
                            <td th:text="${achievement.title}">Compétence</td>
                            <td th:text="${achievement.customer}">Client</td>
                            <td><a th:href="@{/admin/achievement(id=${achievement.id})}"><i class="material-icons">create</i></a></td>
                            <td><a th:href="@{/admin/achievement/delete(id=${achievement.id})}"><i class="material-icons">delete</i></a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
        <section id="achievementCategoriesSection">
            <div class="container">
                <br><br>
                <a class="waves-effect waves-light btn green accent-2"
                   href="/admin/achievement-category">
                    <i class="material-icons left">add_circle</i>
                    Ajouter une catégorie de réalisation
                </a>
                <br><br>
                <table>
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Nom</th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="achievementCategory : ${achievementCategories}">
                            <td th:text="${achievementCategory.id}">id</td>
                            <td th:text="${achievementCategory.name}">Nom</td>
                            <td><a th:href="@{/admin/achievement-category(id=${achievementCategory.id})}"><i class="material-icons">create</i></a></td>
                            <td><a th:href="@{/admin/achievement-category/delete(id=${achievementCategory.id})}"><i class="material-icons">delete</i></a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
        <section id="skillCategoriesSection">
            <div class="container">
                <br><br>
                <a class="waves-effect waves-light btn green accent-2"
                   href="/admin/skill-category">
                    <i class="material-icons left">add_circle</i>
                    Ajouter une catégorie de compétence
                </a>
                <br><br>
                <table>
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Nom</th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="skillCategory : ${skillCategories}">
                            <td th:text="${skillCategory.id}">id</td>
                            <td th:text="${skillCategory.name}">Nom</td>
                            <td><a th:href="@{/admin/skill-category(id=${skillCategory.id})}"><i class="material-icons">create</i></a></td>
                            <td><a th:href="@{/admin/skill-category/delete(id=${skillCategory.id})}"><i class="material-icons">delete</i></a></td> <!--TODO : disassocier la compétence partout où elle est associée, puis la supprimer-->
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
<!--        <footer th:replace="footer.html :: footer">
        </footer>TODO : delete or let it a the bottom-->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                M.AutoInit();
            });
        </script>
    </body>
</html>